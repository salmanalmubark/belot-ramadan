<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„Ø¨ÙŠÙ„ÙˆØª Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠØ© 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--g:#b8860b;--gl:#d4a024;--bg:#faf7f0;--bg2:#fff;--bd:rgba(184,134,11,0.12);--bdh:rgba(184,134,11,0.3);--t1:#1a1a2e;--t2:#4a4a5a;--t3:#8a8a9a;--grn:#16a34a;--red:#dc2626;--blu:#2563eb;--org:#ea580c;--pur:#7c3aed;--sh:0 2px 12px rgba(0,0,0,0.06);--shl:0 8px 30px rgba(0,0,0,0.08)}
body{font-family:'Tajawal',sans-serif;background:var(--bg);color:var(--t1);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;top:-150px;right:-150px;width:500px;height:500px;background:radial-gradient(circle,rgba(184,134,11,0.06) 0%,transparent 70%);pointer-events:none}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--gl);border-radius:3px}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes pGlow{0%,100%{box-shadow:0 0 4px rgba(220,38,38,0.2)}50%{box-shadow:0 0 12px rgba(220,38,38,0.4)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.anim{animation:fadeUp .4s ease forwards}.d1{animation-delay:.05s;opacity:0}.d2{animation-delay:.1s;opacity:0}.d3{animation-delay:.15s;opacity:0}.d4{animation-delay:.2s;opacity:0}
.wrap{max-width:960px;margin:0 auto;padding:0 16px;position:relative;z-index:1}
.hdr{position:sticky;top:0;z-index:50;background:rgba(250,247,240,.95);backdrop-filter:blur(16px);border-bottom:1px solid var(--bd);padding:10px 0}
.hdr-in{display:flex;align-items:center;justify-content:space-between;max-width:960px;margin:0 auto;padding:0 16px}
.logo{display:flex;align-items:center;gap:8px}.logo-i{font-size:28px}.logo-t{font-weight:900;font-size:18px;color:var(--g)}
.hdr-act{display:flex;align-items:center;gap:6px}
.ibtn{width:38px;height:38px;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .25s;font-size:18px;border:2px solid var(--bd);background:var(--bg2);position:relative}
.ibtn:hover{border-color:var(--bdh)}.ibtn.on{border-color:var(--g);background:rgba(184,134,11,0.08);box-shadow:0 0 0 3px rgba(184,134,11,0.1)}
.adot{position:absolute;top:-2px;right:-2px;width:10px;height:10px;border-radius:50%;background:var(--org);border:2px solid var(--bg)}
.nbdg{position:absolute;top:-2px;right:-2px;width:16px;height:16px;border-radius:50%;background:var(--red);color:#fff;font-size:9px;font-weight:800;display:flex;align-items:center;justify-content:center;border:2px solid var(--bg)}
.npnl{position:absolute;top:46px;left:0;width:310px;max-height:380px;overflow-y:auto;background:var(--bg2);border:2px solid var(--bd);border-radius:18px;padding:6px;box-shadow:var(--shl);z-index:100}
.ni{display:flex;align-items:flex-start;gap:8px;padding:9px 10px;border-radius:10px;transition:background .15s;cursor:pointer}.ni:hover{background:rgba(184,134,11,0.04)}
.btn{display:inline-flex;align-items:center;gap:5px;padding:8px 16px;border-radius:12px;font-family:'Tajawal';font-weight:700;font-size:12px;border:none;cursor:pointer;transition:all .2s}
.btn-g{background:linear-gradient(135deg,var(--g),var(--gl));color:#fff;box-shadow:0 2px 8px rgba(184,134,11,0.2)}.btn-g:hover{filter:brightness(1.08);transform:translateY(-1px)}
.btn-o{background:rgba(184,134,11,0.06);color:var(--g);border:1.5px solid var(--bd)}.btn-o:hover{background:rgba(184,134,11,0.12)}
.btn-d{background:rgba(220,38,38,0.06);color:var(--red);border:1.5px solid rgba(220,38,38,0.15)}.btn-d:hover{background:rgba(220,38,38,0.12)}
.btn-s{background:rgba(22,163,74,0.06);color:var(--grn);border:1.5px solid rgba(22,163,74,0.15)}.btn-s:hover{background:rgba(22,163,74,0.12)}
.nav{display:flex;gap:3px;padding:10px 0;overflow-x:auto;scrollbar-width:none}.nav::-webkit-scrollbar{display:none}
.nvi{display:flex;align-items:center;gap:5px;padding:9px 15px;border-radius:12px;font-weight:700;font-size:12px;white-space:nowrap;background:0;border:0;cursor:pointer;color:var(--t3);transition:all .2s;font-family:'Tajawal'}.nvi:hover{color:var(--t2);background:rgba(184,134,11,0.04)}.nvi.on{color:var(--g);background:rgba(184,134,11,0.08)}
.cd{background:var(--bg2);border:1.5px solid var(--bd);border-radius:18px;padding:18px;box-shadow:var(--sh);transition:all .25s}.cd:hover{border-color:var(--bdh)}
.cds{padding:12px;border-radius:14px}
.st{font-size:20px;font-weight:900;color:var(--g);display:flex;align-items:center;gap:8px;margin-bottom:14px}
.inp{width:100%;padding:10px 14px;border-radius:12px;background:var(--bg);border:1.5px solid var(--bd);color:var(--t1);font-family:'Tajawal';font-size:13px;outline:0;transition:all .2s}.inp:focus{border-color:var(--g);box-shadow:0 0 0 3px rgba(184,134,11,0.08)}.inp::placeholder{color:var(--t3)}
textarea.inp{resize:vertical;min-height:50px}
.mc{background:var(--bg2);border:1.5px solid var(--bd);border-radius:16px;padding:16px;box-shadow:var(--sh);transition:all .25s}.mc:hover{border-color:var(--bdh);transform:translateY(-2px);box-shadow:var(--shl)}.mc.live{border-color:rgba(220,38,38,0.25);animation:pGlow 2s infinite}
.rk{width:28px;height:28px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-weight:900;font-size:11px}
.r1{background:rgba(184,134,11,0.12);color:var(--g)}.r2{background:rgba(120,120,130,0.1);color:#888}.r3{background:rgba(180,120,60,0.1);color:#b07840}.rl{background:rgba(220,38,38,0.08);color:var(--red)}.rx{background:rgba(0,0,0,0.04);color:var(--t3)}
table.stbl{width:100%;border-collapse:collapse}.stbl th{padding:10px 8px;font-size:11px;font-weight:700;color:var(--t3);text-align:center;border-bottom:1.5px solid var(--bd);background:rgba(184,134,11,0.02)}.stbl th:nth-child(1),.stbl th:nth-child(2){text-align:right}.stbl td{padding:11px 8px;font-size:12px;text-align:center;border-bottom:1px solid rgba(0,0,0,0.04)}.stbl td:nth-child(1),.stbl td:nth-child(2){text-align:right}.stbl tr:hover td{background:rgba(184,134,11,0.03)}
.fbar{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:14px}
.fb{padding:6px 12px;border-radius:10px;font-size:11px;font-weight:700;background:var(--bg2);border:1.5px solid var(--bd);color:var(--t3);cursor:pointer;font-family:'Tajawal';transition:all .2s;white-space:nowrap}.fb:hover{color:var(--t2)}.fb.on{background:var(--g);color:#fff;border-color:var(--g)}
select.fsel{padding:6px 12px;border-radius:10px;font-size:11px;font-weight:700;background:var(--bg2);border:1.5px solid var(--bd);color:var(--t2);font-family:'Tajawal';outline:0}
.rdiv{display:flex;align-items:center;gap:8px;margin:16px 0 10px}.rdiv-l{flex:1;height:1px;background:var(--bd)}.rdiv-t{font-size:12px;font-weight:700;color:var(--t3)}
.mg{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px}
.tg{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:14px}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.bar-r{display:flex;align-items:center;gap:8px;margin-bottom:8px}.bar-l{width:70px;font-size:10px;font-weight:700;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bar-t{flex:1;height:28px;background:rgba(0,0,0,0.03);border-radius:10px;overflow:hidden}.bar-f{height:100%;border-radius:10px;display:flex;align-items:center;justify-content:flex-end;padding:0 9px;font-size:10px;font-weight:800;color:#fff;transition:width .7s}
.modal-o{position:fixed;inset:0;background:rgba(0,0,0,0.25);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:300;padding:14px}
.modal{background:var(--bg2);border:2px solid var(--bd);border-radius:24px;padding:26px;width:100%;max-width:440px;max-height:90vh;overflow-y:auto;box-shadow:var(--shl)}
.modal-t{font-size:18px;font-weight:900;color:var(--g);margin-bottom:14px}
.ap{position:fixed;top:60px;right:0;width:380px;max-width:90vw;height:calc(100vh - 60px);background:var(--bg2);border-left:2px solid var(--bd);box-shadow:-4px 0 20px rgba(0,0,0,0.06);z-index:80;overflow-y:auto;padding:20px;transform:translateX(100%);transition:transform .3s ease}.ap.open{transform:translateX(0)}
.apo{position:fixed;inset:0;top:60px;background:rgba(0,0,0,0.1);z-index:79;display:none}.apo.show{display:block}
.mob-st{display:none}.sgap{margin-top:18px}
.ld{width:6px;height:6px;border-radius:50%;background:var(--red);display:inline-block;animation:pGlow 1.5s infinite}
.pw-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.3);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:400;padding:14px}
.pw-box{background:var(--bg2);border:2px solid var(--bd);border-radius:24px;padding:28px;width:100%;max-width:360px;box-shadow:var(--shl);text-align:center}
.pw-err{color:var(--red);font-size:12px;font-weight:700;margin-top:8px;display:none}
@media(max-width:768px){.g4{grid-template-columns:1fr 1fr}.mg{grid-template-columns:1fr}.tg{grid-template-columns:1fr}.stbl-w{display:none}.mob-st{display:flex;flex-direction:column;gap:6px}.npnl{width:260px;left:-20px}.ap{width:100%;max-width:100%}.logo-t{font-size:15px}}
</style>
</head>
<body>
  <!-- Netlify Forms: hidden form for detection -->
<form name="team-register" method="POST" data-netlify="true" netlify-honeypot="bot-field" hidden>
  <input name="bot-field" />
  <input type="hidden" name="form-name" value="team-register" />
  <input name="team_name" />
  <input name="captain_name" />
  <input name="phone" />
  <input name="player1" />
  <input name="player2" />
</form>
<div id="app"></div>
<script>
const ADMIN_PASS="1234";
const T=[
{id:1,name:"ØµÙ‚ÙˆØ± Ø§Ù„Ø±ÙŠØ§Ø¶",cap:"Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ",pl:["Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ","ÙÙ‡Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ"],st:"ok",lg:"ğŸ¦…"},
{id:2,name:"Ù†Ø¬ÙˆÙ… Ø¬Ø¯Ø©",cap:"Ø£Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",pl:["Ø£Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ","ÙŠÙˆØ³Ù Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ"],st:"ok",lg:"â­"},
{id:3,name:"Ø£Ø³ÙˆØ¯ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©",cap:"Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø´Ù‡Ø±Ø§Ù†ÙŠ",pl:["Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø´Ù‡Ø±Ø§Ù†ÙŠ","Ø­Ø³Ù† Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠ"],st:"ok",lg:"ğŸ¦"},
{id:4,name:"ÙØ±Ø³Ø§Ù† Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",cap:"Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø­Ø±Ø¨ÙŠ",pl:["Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø­Ø±Ø¨ÙŠ","ÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ"],st:"ok",lg:"ğŸ"},
{id:5,name:"Ø°Ø¦Ø§Ø¨ Ø§Ù„Ø·Ø§Ø¦Ù",cap:"Ù†ÙˆØ§Ù Ø§Ù„Ø³Ù„Ù…ÙŠ",pl:["Ù†ÙˆØ§Ù Ø§Ù„Ø³Ù„Ù…ÙŠ","Ø¹Ø§Ø¯Ù„ Ø§Ù„Ø«Ø¨ÙŠØªÙŠ"],st:"ok",lg:"ğŸº"},
{id:6,name:"Ù†Ø³ÙˆØ± Ø£Ø¨Ù‡Ø§",cap:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù‚Ø±Ù†ÙŠ",pl:["Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù‚Ø±Ù†ÙŠ","Ø­Ù…Ø¯ Ø§Ù„Ø´Ù‡Ø±ÙŠ"],st:"ok",lg:"ğŸ¦¢"}];
const SCH=[[[0,7],[1,6],[2,5],[3,4]],[[0,6],[7,5],[1,4],[2,3]],[[0,5],[6,4],[7,3],[1,2]],[[0,4],[5,3],[6,2],[7,1]],[[0,3],[4,2],[5,1],[6,7]],[[0,2],[3,1],[4,7],[5,6]],[[0,1],[2,7],[3,6],[4,5]]];
const RD=["Ù¡ Ø±Ù…Ø¶Ø§Ù†","Ù£ Ø±Ù…Ø¶Ø§Ù†","Ù¥ Ø±Ù…Ø¶Ø§Ù†","Ù§ Ø±Ù…Ø¶Ø§Ù†","Ù© Ø±Ù…Ø¶Ø§Ù†","Ù¡Ù¡ Ø±Ù…Ø¶Ø§Ù†","Ù¡Ù£ Ø±Ù…Ø¶Ø§Ù†"];
const SC=[[152,98],[120,130],[160,80],[110,110],[145,105],[90,160],[135,115],[170,80],[100,150],[125,125],[140,110],[155,95],[88,162],[130,120],[115,135],[142,108],[160,90],[105,145],[130,130],[118,132],[150,100],[95,155],[140,110],[125,125],[110,140],[135,115],[100,150],[145,105]];
const RULES=["Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ø¯ÙˆØ± ÙˆØ§Ø­Ø¯","ÙƒÙ„ ÙØ±ÙŠÙ‚ ÙŠØªÙƒÙˆÙ† Ù…Ù† Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ø«Ù†ÙŠÙ†","ÙƒÙ„ ÙØ±ÙŠÙ‚ ÙŠÙ„Ø¹Ø¨ 7 Ù…Ø¨Ø§Ø±ÙŠØ§Øª (Ù…Ø±Ø© Ø¶Ø¯ ÙƒÙ„ ÙØ±ÙŠÙ‚)","ÙÙˆØ² = 3 Ù†Ù‚Ø§Ø·ØŒ ØªØ¹Ø§Ø¯Ù„ = 1ØŒ Ø®Ø³Ø§Ø±Ø© = 0","Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ù† Ø¹Ø¯Ø© Ø£Ø´ÙˆØ§Ø· Ø­ØªÙ‰ 152 Ù†Ù‚Ø·Ø©","Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹: Ø³Ø±Ù‰ØŒ Ø®Ù…Ø³ÙŠÙ†ØŒ Ù…ÙŠØ©ØŒ 400ØŒ Ø¨Ù„ÙˆØª","ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ù†Ù‚Ø§Ø·: Ø§Ù„ÙØ§Ø±Ù‚ Ø«Ù… Ø§Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©","ÙŠØ­Ù‚ Ù„Ù„Ø£Ø¯Ù…Ù† ØªØ£Ø¬ÙŠÙ„ Ø£Ùˆ Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨Ø§Ø±Ø§Ø©","Ø§Ù„Ø§Ù†Ø³Ø­Ø§Ø¨ = Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ 0-152","Ø§Ù„Ø­Ø¶ÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø¨Ù€ 15 Ø¯Ù‚ÙŠÙ‚Ø©"];

let S={pg:'home',teams:[...T],matches:[],ap:false,adminAuth:false,showPW:false,sn:false,sr:0,stf:0,sm:false,em:null,srj:null,delTeam:null,fromAdmin:false,
pend:[{id:9,name:"Ø¹Ù‚Ø¨Ø§Ù† Ø§Ù„Ù‚ØµÙŠÙ…",cap:"ØµØ§Ù„Ø­ Ø§Ù„ØªÙ…ÙŠÙ…ÙŠ",ph:"0551112233",pl:["ØµØ§Ù„Ø­ Ø§Ù„ØªÙ…ÙŠÙ…ÙŠ","Ø£Ø­Ù…Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ"],lg:"ğŸ¦…"},{id:10,name:"ØµÙˆØ§Ø¹Ù‚ Ù†Ø¬Ø±Ø§Ù†",cap:"ÙØ±Ø§Ø³ Ø¢Ù„ Ù…Ø¨Ø§Ø±Ùƒ",ph:"0559998877",pl:["ÙØ±Ø§Ø³ Ø¢Ù„ Ù…Ø¨Ø§Ø±Ùƒ","Ø¹Ù…Ø§Ø± Ø§Ù„Ø£ÙƒÙ„Ø¨ÙŠ"],lg:"â›ˆï¸"},{id:11,name:"Ø¨Ø±Ø§ÙƒÙŠÙ† Ø­Ø§Ø¦Ù„",cap:"Ø±Ø§Ø´Ø¯ Ø§Ù„Ø´Ù…Ø±ÙŠ",ph:"0552345678",pl:["Ø±Ø§Ø´Ø¯ Ø§Ù„Ø´Ù…Ø±ÙŠ","Ø¹Ù‚ÙŠÙ„ Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ"],lg:"ğŸŒ‹"},{id:12,name:"Ø±Ø¹ÙˆØ¯ ØªØ¨ÙˆÙƒ",cap:"Ù…Ù†ØµÙˆØ± Ø§Ù„Ø¨Ù„ÙˆÙŠ",ph:"0558901234",pl:["Ù…Ù†ØµÙˆØ± Ø§Ù„Ø¨Ù„ÙˆÙŠ","ÙˆØ§Ø¦Ù„ Ø§Ù„Ø­ÙˆÙŠØ·ÙŠ"],lg:"âš¡"}],
notifs:[{id:1,tp:"match",msg:"Ù…Ø¨Ø§Ø±Ø§Ø© ØµÙ‚ÙˆØ± Ø§Ù„Ø±ÙŠØ§Ø¶ Ø¶Ø¯ Ù†Ø¬ÙˆÙ… Ø¬Ø¯Ø© ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ Ø³Ø§Ø¹ØªÙŠÙ†",tm:"Ù…Ù†Ø° Ø³Ø§Ø¹Ø©",rd:0},{id:2,tp:"result",msg:"Ø§Ù†ØªÙ‡Øª Ø£Ø³ÙˆØ¯ Ø§Ù„Ø´Ø±Ù‚ÙŠØ© ÙˆÙØ±Ø³Ø§Ù† Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© 160-80",tm:"Ù…Ù†Ø° 3 Ø³Ø§Ø¹Ø§Øª",rd:0},{id:3,tp:"system",msg:"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©",tm:"Ù…Ù†Ø° ÙŠÙˆÙ…",rd:1}]};

function genM(){S.matches=[];let ok=S.teams.filter(t=>t.st==='ok');if(ok.length<8)return;let id=1;SCH.forEach((r,ri)=>{r.forEach((p,pi)=>{let x=ri*4+pi,dn=ri<4||(ri===4&&pi<2),lv=ri===4&&pi>=2;S.matches.push({id:id++,rn:ri+1,t1:ok[p[0]]?.id,t2:ok[p[1]]?.id,dt:RD[ri],tm:pi<2?"Ù©:Ù£Ù  Ù…":"Ù¡Ù¡:Ù Ù  Ù…",st:dn?"done":lv?"live":"soon",s1:dn?SC[x][0]:null,s2:dn?SC[x][1]:null})})})}
function gt(id){return S.teams.find(t=>t.id===id)}
function gst(){let s={};S.teams.filter(t=>t.st==='ok').forEach(t=>{s[t.id]={...t,p:0,w:0,d:0,l:0,gf:0,ga:0,pts:0}});S.matches.filter(m=>m.st==='done').forEach(m=>{if(!s[m.t1]||!s[m.t2])return;s[m.t1].p++;s[m.t2].p++;s[m.t1].gf+=m.s1;s[m.t1].ga+=m.s2;s[m.t2].gf+=m.s2;s[m.t2].ga+=m.s1;if(m.s1>m.s2){s[m.t1].w++;s[m.t1].pts+=3;s[m.t2].l++}else if(m.s1<m.s2){s[m.t2].w++;s[m.t2].pts+=3;s[m.t1].l++}else{s[m.t1].d++;s[m.t2].d++;s[m.t1].pts++;s[m.t2].pts++}});return Object.values(s).sort((a,b)=>b.pts-a.pts||(b.gf-b.ga)-(a.gf-a.ga)||b.gf-a.gf)}
function R(){document.getElementById('app').innerHTML=rMain()}
function goTo(p){S.pg=p;S.sn=false;S.ap=false;R();window.scrollTo({top:0})}

function tryAdmin(){
  if(S.adminAuth){S.ap=!S.ap;R()}
  else{S.showPW=true;R()}
}
function checkPW(){
  let v=document.getElementById('admin-pw')?.value;
  if(v===ADMIN_PASS){S.adminAuth=true;S.showPW=false;S.ap=true;R()}
  else{document.getElementById('pw-err').style.display='block'}
}
function closePW(){S.showPW=false;R()}
function logoutAdmin(){S.adminAuth=false;S.ap=false;R()}

function rMain(){
let st=gst(),cc=S.matches.filter(m=>m.st==='done').length,lm=S.matches.filter(m=>m.st==='live'),um=S.matches.filter(m=>m.st==='soon'),ur=S.notifs.filter(n=>!n.rd).length;
let nav=[['home','Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©','ğŸ '],['standings','Ø§Ù„ØªØ±ØªÙŠØ¨','ğŸ†'],['matches','Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª','ğŸ“…'],['teams','Ø§Ù„ÙØ±Ù‚','ğŸ‘¥'],['stats','Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª','ğŸ“Š'],['rules','Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†','ğŸ“–'],['register','Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ','âœï¸']];
let pc='';
if(S.pg==='home')pc=rHome(st,cc,lm,um);else if(S.pg==='standings')pc=rStand(st);else if(S.pg==='matches')pc=rMatch();else if(S.pg==='teams')pc=rTeams(st);else if(S.pg==='stats')pc=rStats(st);else if(S.pg==='rules')pc=rRules();else if(S.pg==='register')pc=rReg();
let md='';if(S.sm&&S.em)md=rScM();if(S.srj!==null)md+=rRjM();if(S.showPW)md+=rPWM();if(S.delTeam)md+=rDelM();
return `<div class="hdr"><div class="hdr-in"><div class="logo"><span class="logo-i">ğŸƒ</span><span class="logo-t">Ø¨ÙŠÙ„ÙˆØª Ø±Ù…Ø¶Ø§Ù† Ù¢Ù Ù¢Ù¦</span></div><div class="hdr-act"><div style="position:relative"><button class="ibtn" onclick="S.sn=!S.sn;R()">ğŸ””${ur?`<span class="nbdg">${ur}</span>`:''}</button>${S.sn?`<div class="npnl">${S.notifs.map(n=>`<div class="ni" onclick="S.notifs.find(x=>x.id===${n.id}).rd=1;R()"><div style="width:7px;height:7px;border-radius:50%;margin-top:4px;flex-shrink:0;background:${n.rd?'var(--t3)':n.tp==='result'?'var(--grn)':'var(--g)'}"></div><div style="font-size:11px;color:var(--t2);flex:1">${n.msg}</div><div style="font-size:9px;color:var(--t3);white-space:nowrap">${n.tm}</div></div>`).join('')}</div>`:''}</div><button class="ibtn ${S.ap?'on':''}" onclick="tryAdmin()">ğŸ›¡ï¸${S.pend.length&&S.adminAuth?'<span class="adot"></span>':''}</button></div></div></div><div class="apo ${S.ap?'show':''}" onclick="S.ap=false;R()"></div><div class="ap ${S.ap?'open':''}">${S.adminAuth?rAP(cc):''}</div><div class="wrap"><nav class="nav">${nav.map(n=>`<button class="nvi ${S.pg===n[0]?'on':''}" onclick="goTo('${n[0]}')">${n[2]} ${n[1]}</button>`).join('')}</nav><div style="padding-bottom:40px">${pc}</div></div>${md}`;
}

function rPWM(){
return `<div class="pw-overlay" onclick="closePW()"><div class="pw-box anim" onclick="event.stopPropagation()"><div style="font-size:40px;margin-bottom:10px">ğŸ”</div><div style="font-size:18px;font-weight:900;color:var(--g);margin-bottom:4px">Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</div><div style="font-size:12px;color:var(--t3);margin-bottom:16px">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</div><input class="inp" id="admin-pw" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" style="text-align:center;font-size:16px;font-weight:700;margin-bottom:4px" onkeydown="if(event.key==='Enter')checkPW()"/><div class="pw-err" id="pw-err">âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div><div style="display:flex;gap:8px;margin-top:14px"><button class="btn btn-g" style="flex:1;justify-content:center;padding:11px;font-size:14px" onclick="checkPW()">Ø¯Ø®ÙˆÙ„</button><button class="btn btn-o" style="flex:1;justify-content:center;padding:11px" onclick="closePW()">Ø¥Ù„ØºØ§Ø¡</button></div></div></div>`}

function rAP(cc){
let pm=S.pend.length?S.pend.map(t=>`<div style="background:var(--bg);border:1.5px solid rgba(234,88,12,0.15);border-radius:14px;padding:14px;margin-bottom:8px"><div style="display:flex;align-items:center;gap:8px;margin-bottom:6px"><span style="font-size:24px">${t.lg}</span><div><div style="font-weight:800;font-size:13px">${t.name}</div><div style="font-size:10px;color:var(--t3)">Ø§Ù„ÙƒØ§Ø¨ØªÙ†: ${t.cap}</div></div></div><div style="font-size:10px;color:var(--t3);margin-bottom:6px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†: ${t.pl.join(' Ùˆ ')}</div><div style="display:flex;gap:6px"><button class="btn btn-s" style="flex:1;justify-content:center;font-size:11px" onclick="appT(${t.id})">âœ… Ù‚Ø¨ÙˆÙ„</button><button class="btn btn-d" style="flex:1;justify-content:center;font-size:11px" onclick="S.srj=${t.id};R()">âŒ Ø±ÙØ¶</button></div></div>`).join(''):`<div style="text-align:center;padding:14px;color:var(--t3);font-size:12px;background:var(--bg);border-radius:12px">âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</div>`;
let mm=S.matches.filter(m=>m.st!=='done').slice(0,8).map(m=>{let a=gt(m.t1),b=gt(m.t2);return `<div style="display:flex;align-items:center;justify-content:space-between;padding:7px 10px;background:var(--bg);border-radius:10px;margin-bottom:4px"><div style="display:flex;align-items:center;gap:5px"><span style="font-size:9px;padding:3px 7px;border-radius:6px;font-weight:700;${m.st==='live'?'background:rgba(220,38,38,0.08);color:var(--red)':'background:rgba(0,0,0,0.04);color:var(--t3)'}">Ø¬${m.rn}</span><span style="font-size:11px">${a?.name} Ø¶Ø¯ ${b?.name}</span></div><button class="btn btn-o" style="font-size:9px;padding:4px 8px" onclick="openScoreFromAdmin(${m.id})">âœï¸</button></div>`}).join('');
let okTeams=S.teams.filter(t=>t.st==='ok');
let tm=okTeams.map(t=>`<div style="display:flex;align-items:center;justify-content:space-between;padding:7px 10px;background:var(--bg);border-radius:10px;margin-bottom:4px"><div style="display:flex;align-items:center;gap:6px"><span style="font-size:18px">${t.lg}</span><span style="font-size:11px;font-weight:700">${t.name}</span></div><button class="btn btn-d" style="font-size:9px;padding:4px 8px" onclick="S.delTeam=${t.id};R()">ğŸ—‘ï¸ Ø­Ø°Ù</button></div>`).join('');
return `<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div style="font-size:18px;font-weight:900;color:var(--g)">ğŸ›¡ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</div><div style="display:flex;gap:6px"><button class="btn btn-d" style="font-size:10px;padding:5px 10px" onclick="logoutAdmin()">ğŸ”’ Ø®Ø±ÙˆØ¬</button><button style="background:0;border:0;font-size:20px;cursor:pointer;color:var(--t3)" onclick="S.ap=false;R()">âœ•</button></div></div><div class="g2" style="margin-bottom:14px"><div style="text-align:center;padding:12px;border-radius:12px;background:var(--bg)"><div style="font-size:22px;font-weight:900;color:var(--g)">${okTeams.length}/8</div><div style="font-size:10px;color:var(--t3)">ÙØ±Ù‚</div></div><div style="text-align:center;padding:12px;border-radius:12px;background:var(--bg)"><div style="font-size:22px;font-weight:900;color:var(--grn)">${cc}/28</div><div style="font-size:10px;color:var(--t3)">Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div></div></div><div style="font-weight:800;font-size:14px;color:var(--org);margin-bottom:8px">âš ï¸ Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (${S.pend.length})</div>${pm}<div style="font-weight:800;font-size:14px;color:var(--red);margin:14px 0 8px">ğŸ—‘ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…Ø³Ø¬Ù„Ø©</div>${tm}<div style="font-weight:800;font-size:14px;color:var(--g);margin:14px 0 8px">ğŸ“… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>${mm}<div style="font-weight:800;font-size:14px;color:var(--g);margin:14px 0 8px">ğŸ“‹ Ø¢Ø®Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«</div>${S.notifs.slice(0,5).map(n=>`<div style="display:flex;align-items:flex-start;gap:6px;padding:6px 0;border-bottom:1px solid var(--bd);font-size:11px"><div style="width:5px;height:5px;border-radius:50%;margin-top:4px;flex-shrink:0;background:${n.tp==='result'?'var(--grn)':'var(--g)'}"></div><div style="flex:1;color:var(--t2)">${n.msg}</div></div>`).join('')}`;
}
function appT(id){let t=S.pend.find(x=>x.id===id);if(!t)return;if(S.teams.filter(x=>x.st==='ok').length>=8){alert('Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø¹Ø¯Ø¯! Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 8 ÙØ±Ù‚');return}S.teams.push({...t,st:'ok'});S.pend=S.pend.filter(x=>x.id!==id);S.notifs.unshift({id:Date.now(),tp:'approval',msg:'ØªÙ… Ù‚Ø¨ÙˆÙ„ ÙØ±ÙŠÙ‚ '+t.name+' âœ…',tm:'Ø§Ù„Ø¢Ù†',rd:0});genM();R()}
function openScoreFromAdmin(mid){S.em=S.matches.find(x=>x.id===mid);S.sm=true;S.fromAdmin=true;R()}
function closeScoreModal(){S.sm=false;S.em=null;if(S.fromAdmin){S.fromAdmin=false;S.ap=true;}R()}

function rHome(st,cc,lm,um){
return `<div class="hero anim d1" style="position:relative;overflow:hidden;background:linear-gradient(135deg,rgba(184,134,11,0.06),rgba(124,58,237,0.03),#fff);border:2px solid rgba(184,134,11,0.12);border-radius:24px;padding:30px"><div style="position:absolute;top:-25px;left:-15px;font-size:110px;opacity:.06;pointer-events:none">ğŸŒ™</div><div style="position:absolute;top:0;right:30px;display:flex;gap:22px;opacity:.08"><span style="font-size:32px;animation:float 4s ease-in-out infinite">ğŸ®</span><span style="font-size:26px;animation:float 4s ease-in-out infinite 1s">ğŸ®</span><span style="font-size:20px;animation:float 4s ease-in-out infinite 2s">ğŸ®</span></div><div style="position:relative;z-index:1"><div style="font-size:42px;margin-bottom:6px">ğŸƒ</div><div style="font-size:28px;font-weight:900;color:var(--g);margin-bottom:4px">Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„Ø¨ÙŠÙ„ÙˆØª Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠØ© 2026</div><div style="color:var(--t2);font-size:14px;margin-bottom:20px">Ø¯ÙˆØ±ÙŠ Ù…Ù† 8 ÙØ±Ù‚ â€¢ 7 Ø¬ÙˆÙ„Ø§Øª â€¢ 28 Ù…Ø¨Ø§Ø±Ø§Ø©</div><div style="display:flex;flex-wrap:wrap;gap:8px">${[['var(--g)',S.teams.filter(t=>t.st==='ok').length,'ÙØ±ÙŠÙ‚','184,134,11'],['var(--grn)',cc,'Ù…ÙƒØªÙ…Ù„Ø©','22,163,74'],['var(--blu)',28-cc,'Ù…ØªØ¨Ù‚ÙŠØ©','37,99,235'],['var(--red)',lm.length,'Ø¬Ø§Ø±ÙŠØ©','220,38,38']].map(s=>`<div style="background:rgba(${s[3]},0.04);border:1.5px solid rgba(${s[3]},0.1);border-radius:14px;padding:12px 18px;text-align:center;min-width:90px"><div style="font-size:24px;font-weight:900;color:${s[0]}">${s[1]}</div><div style="font-size:10px;color:var(--t3)">${s[2]}</div></div>`).join('')}</div></div></div>
${lm.length?`<div class="sgap anim d2"><div class="st"><span class="ld"></span> Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¬Ø§Ø±ÙŠØ©</div>${lm.map(m=>{let a=gt(m.t1),b=gt(m.t2);return `<div class="mc live" style="margin-bottom:8px"><div style="display:inline-flex;align-items:center;gap:3px;font-size:10px;font-weight:800;color:var(--red);margin-bottom:6px"><span class="ld"></span> Ù…Ø¨Ø§Ø´Ø±</div><div style="display:flex;align-items:center;justify-content:space-between"><div style="text-align:center;flex:1"><div style="font-size:28px">${a?.lg}</div><div style="font-size:11px;font-weight:700">${a?.name}</div></div><div style="text-align:center;padding:0 12px"><div style="font-size:13px;font-weight:800;color:var(--g)">âš”ï¸</div><div style="font-size:10px;color:var(--t3);margin-top:3px">Ø§Ù„Ø¬ÙˆÙ„Ø© ${m.rn}</div></div><div style="text-align:center;flex:1"><div style="font-size:28px">${b?.lg}</div><div style="font-size:11px;font-weight:700">${b?.name}</div></div></div></div>`}).join('')}</div>`:''}
<div class="sgap anim d3"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px"><div class="st" style="margin-bottom:0">ğŸ† Ø§Ù„ØªØ±ØªÙŠØ¨</div><button class="btn btn-o" style="font-size:11px;padding:5px 10px" onclick="goTo('standings')">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button></div><div class="cd" style="padding:0;overflow:hidden">${st.slice(0,4).map((t,i)=>`<div style="display:flex;align-items:center;gap:10px;padding:12px 16px;${i<3?'border-bottom:1px solid var(--bd);':''}" onmouseover="this.style.background='rgba(184,134,11,0.03)'" onmouseout="this.style.background=''"><div class="rk ${i===0?'r1':i===1?'r2':i===2?'r3':'rx'}">${i+1}</div><div style="font-size:20px">${t.lg}</div><div style="flex:1"><div style="font-weight:800;font-size:13px">${t.name}${i===0?' ğŸ‘‘':''}</div><div style="font-size:10px;color:var(--t3)">${t.p} Ù…Ø¨Ø§Ø±Ø§Ø©</div></div><div><div style="font-weight:900;font-size:18px;color:var(--g)">${t.pts}</div></div></div>`).join('')}</div></div>
${um.length?`<div class="sgap anim d4"><div class="st">ğŸ“… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div><div class="mg">${um.slice(0,4).map(m=>{let a=gt(m.t1),b=gt(m.t2);return `<div class="mc"><div style="display:flex;align-items:center;justify-content:space-between"><div style="text-align:center;flex:1"><div style="font-size:28px">${a?.lg}</div><div style="font-size:11px;font-weight:700">${a?.name}</div></div><div style="text-align:center;padding:0 12px"><div style="font-size:9px;color:var(--t3)">Ø¬${m.rn}</div><div style="font-size:13px;font-weight:800;color:var(--g)">VS</div><div style="font-size:10px;color:var(--t3)">${m.dt}</div></div><div style="text-align:center;flex:1"><div style="font-size:28px">${b?.lg}</div><div style="font-size:11px;font-weight:700">${b?.name}</div></div></div></div>`}).join('')}</div></div>`:''}
${S.matches.length===0?`<div class="sgap anim d4"><div class="cd" style="text-align:center;padding:30px"><div style="font-size:40px;margin-bottom:10px">â³</div><div style="font-size:16px;font-weight:800;color:var(--g);margin-bottom:6px">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ÙØ±Ù‚</div><div style="font-size:13px;color:var(--t3)">ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ 8 ÙØ±Ù‚ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© (Ø­Ø§Ù„ÙŠØ§Ù‹ ${S.teams.filter(t=>t.st==='ok').length}/8)</div><div style="margin-top:12px"><button class="btn btn-g" onclick="goTo('register')">âœï¸ Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù†</button></div></div></div>`:''}`}

function rStand(st){
return `<div class="st anim d1">ğŸ† Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨</div><div class="cd stbl-w anim d2" style="padding:0;overflow-x:auto"><table class="stbl"><thead><tr><th>#</th><th>Ø§Ù„ÙØ±ÙŠÙ‚</th><th>Ù„Ø¹Ø¨</th><th>ÙÙˆØ²</th><th>ØªØ¹Ø§Ø¯Ù„</th><th>Ø®Ø³Ø§Ø±Ø©</th><th>Ù„Ù‡</th><th>Ø¹Ù„ÙŠÙ‡</th><th>Ø§Ù„ÙØ§Ø±Ù‚</th><th style="color:var(--g)">Ø§Ù„Ù†Ù‚Ø§Ø·</th></tr></thead><tbody>${st.map((t,i)=>`<tr><td><div class="rk ${i===0?'r1':i===1?'r2':i===2?'r3':i===st.length-1?'rl':'rx'}">${i+1}</div></td><td><div style="display:flex;align-items:center;gap:6px"><span style="font-size:16px">${t.lg}</span><span style="font-weight:800">${t.name}</span>${i===0?' ğŸ‘‘':''}</div></td><td>${t.p}</td><td style="color:var(--grn);font-weight:700">${t.w}</td><td style="color:var(--t3)">${t.d}</td><td style="color:var(--red)">${t.l}</td><td>${t.gf}</td><td>${t.ga}</td><td style="font-weight:800;color:${t.gf-t.ga>0?'var(--grn)':t.gf-t.ga<0?'var(--red)':'var(--t3)'}">${t.gf-t.ga>0?'+':''}${t.gf-t.ga}</td><td style="font-weight:900;font-size:16px;color:var(--g)">${t.pts}</td></tr>`).join('')}</tbody></table></div><div class="mob-st">${st.map((t,i)=>`<div class="cd cds anim" style="display:flex;align-items:center;gap:10px"><div class="rk ${i===0?'r1':i===1?'r2':i===2?'r3':i===st.length-1?'rl':'rx'}">${i+1}</div><div style="font-size:20px">${t.lg}</div><div style="flex:1;min-width:0"><div style="font-weight:800;font-size:12px">${t.name}</div><div style="font-size:10px;color:var(--t3)">${t.p} Ù„Ø¹Ø¨ â€¢ ${t.w}Ù ${t.d}Øª ${t.l}Ø®</div></div><div><div style="font-weight:900;font-size:18px;color:var(--g)">${t.pts}</div><div style="font-size:9px;color:${t.gf-t.ga>0?'var(--grn)':t.gf-t.ga<0?'var(--red)':'var(--t3)'}">${t.gf-t.ga>0?'+':''}${t.gf-t.ga}</div></div></div>`).join('')}</div>`}

function rMatch(){
let fm=S.matches;if(S.sr>0)fm=fm.filter(m=>m.rn===S.sr);if(S.stf>0)fm=fm.filter(m=>m.t1===S.stf||m.t2===S.stf);
let g={};fm.forEach(m=>{if(!g[m.rn])g[m.rn]=[];g[m.rn].push(m)});
return `<div class="st anim d1">ğŸ“… Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div><div class="fbar anim d2">${[0,1,2,3,4,5,6,7].map(r=>`<button class="fb ${S.sr===r?'on':''}" onclick="S.sr=${r};R()">${r===0?'Ø§Ù„ÙƒÙ„':'Ø¬'+r}</button>`).join('')}<select class="fsel" onchange="S.stf=parseInt(this.value);R()"><option value="0">ÙƒÙ„ Ø§Ù„ÙØ±Ù‚</option>${S.teams.filter(t=>t.st==='ok').map(t=>`<option value="${t.id}" ${S.stf===t.id?'selected':''}>${t.name}</option>`).join('')}</select></div>${Object.entries(g).sort(([a],[b])=>a-b).map(([rn,ms])=>`<div class="rdiv"><div class="rdiv-l"></div><div class="rdiv-t">Ø§Ù„Ø¬ÙˆÙ„Ø© ${rn} - ${RD[rn-1]}</div><div class="rdiv-l"></div></div><div class="mg">${ms.map(m=>{let a=gt(m.t1),b=gt(m.t2);return `<div class="mc ${m.st==='live'?'live':''}">${m.st==='live'?'<div style="display:inline-flex;align-items:center;gap:3px;font-size:10px;font-weight:800;color:var(--red);margin-bottom:5px"><span class="ld"></span> Ù…Ø¨Ø§Ø´Ø±</div>':''}${m.st==='done'?'<div style="font-size:10px;color:var(--grn);font-weight:700;margin-bottom:5px">âœ… Ø§Ù†ØªÙ‡Øª</div>':''}<div style="display:flex;align-items:center;justify-content:space-between"><div style="text-align:center;flex:1"><div style="font-size:28px">${a?.lg}</div><div style="font-size:11px;font-weight:700">${a?.name}</div></div><div style="text-align:center;padding:0 12px;min-width:80px">${m.st==='done'?`<div style="font-size:22px;font-weight:900;color:var(--g)">${m.s1} - ${m.s2}</div>`:`<div style="font-size:13px;font-weight:800;color:var(--g)">VS</div>`}<div style="font-size:10px;color:var(--t3);margin-top:3px">${m.tm}</div></div><div style="text-align:center;flex:1"><div style="font-size:28px">${b?.lg}</div><div style="font-size:11px;font-weight:700">${b?.name}</div></div></div></div>`}).join('')}</div>`).join('')}`}

function rTeams(st){
return `<div class="st anim d1">ğŸ‘¥ Ø§Ù„ÙØ±Ù‚</div><div class="tg">${S.teams.filter(t=>t.st==='ok').map((t,x)=>{let s=st.find(z=>z.id===t.id)||{},rk=st.findIndex(z=>z.id===t.id)+1;return `<div class="cd anim d${x%4+1}" style="border-radius:20px"><div style="display:flex;gap:12px;align-items:flex-start"><div style="width:56px;height:56px;border-radius:16px;background:rgba(184,134,11,0.05);display:flex;align-items:center;justify-content:center;font-size:30px;flex-shrink:0">${t.lg}</div><div style="flex:1"><div style="font-size:16px;font-weight:900">${t.name} ${rk<=3?['ğŸ‘‘','ğŸ¥ˆ','ğŸ¥‰'][rk-1]:''}</div><div style="font-size:12px;color:var(--t2)">Ø§Ù„ÙƒØ§Ø¨ØªÙ†: ${t.cap}</div></div><div style="text-align:center;padding:6px 12px;border-radius:12px;background:rgba(184,134,11,0.06)"><div style="font-size:20px;font-weight:900;color:var(--g)">${s.pts||0}</div><div style="font-size:8px;color:var(--t3)">Ù†Ù‚Ø§Ø·</div></div></div><div class="g4" style="margin-top:12px">${[['ÙÙˆØ²','var(--grn)',s.w],['ØªØ¹Ø§Ø¯Ù„','var(--t1)',s.d],['Ø®Ø³Ø§Ø±Ø©','var(--red)',s.l],['Ù„Ø¹Ø¨','var(--g)',s.p]].map(v=>`<div style="text-align:center;padding:8px;border-radius:10px;background:var(--bg)"><div style="font-weight:800;font-size:14px;color:${v[1]}">${v[2]||0}</div><div style="font-size:9px;color:var(--t3)">${v[0]}</div></div>`).join('')}</div><div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--bd)"><div style="font-size:11px;font-weight:700;color:var(--t2);margin-bottom:6px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†:</div><div style="display:flex;flex-wrap:wrap;gap:4px">${t.pl.map(p=>`<span style="padding:3px 10px;border-radius:8px;font-size:11px;font-weight:600;background:rgba(184,134,11,0.06);color:var(--g)">${p}</span>`).join('')}</div></div></div>`}).join('')}</div>`}

function rStats(st){
let tw=[...st].sort((a,b)=>b.w-a.w)[0],tg=[...st].sort((a,b)=>b.gf-a.gf)[0],td=[...st].sort((a,b)=>a.ga-b.ga)[0],hm=[...S.matches.filter(m=>m.st==='done')].sort((a,b)=>(b.s1+b.s2)-(a.s1+a.s2))[0];
let mx=Math.max(...st.map(s=>s.pts),1),mxg=Math.max(...st.map(s=>s.gf),1);
let bc=['linear-gradient(90deg,#b8860b,#d4a024)','linear-gradient(90deg,#888,#aaa)','linear-gradient(90deg,#b07840,#d4a060)','linear-gradient(90deg,#2563eb,#60a5fa)','linear-gradient(90deg,#7c3aed,#a78bfa)','linear-gradient(90deg,#16a34a,#4ade80)','linear-gradient(90deg,#dc2626,#f87171)','linear-gradient(90deg,#ea580c,#fb923c)'];
return `<div class="st anim d1">ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div><div class="g4 anim d2" style="margin-bottom:16px">${[['ğŸ‘‘','Ø£ÙƒØ«Ø± ÙÙˆØ²Ø§Ù‹',tw?.name,tw?.w+' ÙÙˆØ²'],['ğŸ”¥','Ø£Ù‚ÙˆÙ‰ Ù‡Ø¬ÙˆÙ…',tg?.name,tg?.gf+' Ù†Ù‚Ø·Ø©'],['ğŸ›¡ï¸','Ø£Ù‚ÙˆÙ‰ Ø¯ÙØ§Ø¹',td?.name,td?.ga+' Ø¹Ù„ÙŠÙ‡'],['âš¡','Ø£Ø¹Ù„Ù‰ Ù…Ø¨Ø§Ø±Ø§Ø©',hm?(hm.s1+hm.s2):'-',hm?gt(hm.t1)?.name+' vs '+gt(hm.t2)?.name:'']].map(s=>`<div style="text-align:center;padding:16px;border-radius:16px;background:var(--bg2);border:1.5px solid var(--bd);box-shadow:var(--sh)"><div style="font-size:24px">${s[0]}</div><div style="font-size:10px;color:var(--t3)">${s[1]}</div><div style="font-size:13px;font-weight:900;margin-top:3px">${s[2]||'-'}</div><div style="font-size:9px;color:var(--t3)">${s[3]}</div></div>`).join('')}</div><div class="cd anim d3" style="margin-bottom:16px"><div style="font-weight:800;font-size:14px;margin-bottom:14px">Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†Ù‚Ø§Ø·</div>${st.map((t,i)=>`<div class="bar-r"><div class="bar-l">${t.name}</div><div class="bar-t"><div class="bar-f" style="width:${Math.max((t.pts/mx)*100,5)}%;background:${bc[i%8]}">${t.pts}</div></div></div>`).join('')}</div><div class="cd anim d4"><div style="font-weight:800;font-size:14px;margin-bottom:14px">Ø§Ù„Ù‡Ø¬ÙˆÙ… vs Ø§Ù„Ø¯ÙØ§Ø¹</div>${st.map(t=>`<div style="display:flex;align-items:center;gap:6px;margin-bottom:6px"><div style="width:60px;font-size:9px;font-weight:700;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">${t.name}</div><div style="display:flex;gap:2px;flex:1"><div style="height:22px;border-radius:6px 0 0 6px;background:rgba(22,163,74,.5);display:flex;align-items:center;justify-content:center;font-size:8px;font-weight:700;color:#fff;min-width:26px;width:${(t.gf/mxg)*100}%">${t.gf}</div><div style="height:22px;border-radius:0 6px 6px 0;background:rgba(220,38,38,.4);display:flex;align-items:center;justify-content:center;font-size:8px;font-weight:700;color:#fff;min-width:26px;width:${(t.ga/mxg)*100}%">${t.ga}</div></div></div>`).join('')}<div style="display:flex;gap:16px;justify-content:center;margin-top:10px"><span style="font-size:10px;color:var(--t3)"><span style="width:8px;height:8px;background:rgba(22,163,74,.5);border-radius:2px;display:inline-block"></span> Ù„Ù‡</span><span style="font-size:10px;color:var(--t3)"><span style="width:8px;height:8px;background:rgba(220,38,38,.4);border-radius:2px;display:inline-block"></span> Ø¹Ù„ÙŠÙ‡</span></div></div>`}

function rRules(){
return `<div class="st anim d1">ğŸ“– Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</div><div class="cd anim d2" style="margin-bottom:16px">${RULES.map((r,i)=>`<div style="display:flex;gap:12px;margin-bottom:14px"><div style="width:28px;height:28px;border-radius:50%;flex-shrink:0;background:rgba(184,134,11,0.08);color:var(--g);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:11px">${i+1}</div><div style="font-size:13px;color:var(--t2);line-height:1.7">${r}</div></div>`).join('')}</div><div class="cd anim d3" style="margin-bottom:16px"><div style="font-weight:900;font-size:16px;color:var(--g);margin-bottom:14px">ğŸ† Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</div><div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px">${[['ğŸ¥‡','Ø§Ù„Ø£ÙˆÙ„','var(--g)','Ø§Ù„ÙƒØ£Ø³ + Ø°Ù‡Ø¨ÙŠØ©'],['ğŸ¥ˆ','Ø§Ù„Ø«Ø§Ù†ÙŠ','#888','ÙØ¶ÙŠØ©'],['ğŸ¥‰','Ø§Ù„Ø«Ø§Ù„Ø«','#b07840','Ø¨Ø±ÙˆÙ†Ø²ÙŠØ©']].map(p=>`<div style="text-align:center;padding:16px 8px;border-radius:16px;border:1.5px solid var(--bd);box-shadow:var(--sh)"><div style="font-size:36px;margin-bottom:6px">${p[0]}</div><div style="font-weight:900;font-size:13px;color:${p[2]}">${p[1]}</div><div style="font-size:10px;color:var(--t3);margin-top:3px">${p[3]}</div></div>`).join('')}</div></div><div class="cd anim d4"><div style="font-weight:900;font-size:16px;color:var(--g);margin-bottom:14px">ğŸƒ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">${[['Ø³Ø±Ù‰','3 Ø£ÙˆØ±Ø§Ù‚ Ù…ØªØªØ§Ù„ÙŠØ©','+2'],['Ø®Ù…Ø³ÙŠÙ†','4 Ø£ÙˆØ±Ø§Ù‚ Ù…ØªØªØ§Ù„ÙŠØ©','+50'],['Ù…ÙŠØ©','5 Ù…ØªØªØ§Ù„ÙŠØ© Ø£Ùˆ 4 Ù…ØªØ´Ø§Ø¨Ù‡Ø©','+100'],['400','4 Ø£ÙˆØ±Ø§Ù‚ Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù…','+400'],['Ø¨Ù„ÙˆØª','Ø§Ù„Ø´Ø§ÙŠØ¨ ÙˆØ§Ù„Ø¨Ù†Øª Ù…Ù† Ø§Ù„Ø­ÙƒÙ…','+20']].map(x=>`<div style="padding:10px;border-radius:12px;background:var(--bg)"><div style="display:flex;justify-content:space-between"><span style="font-weight:800">${x[0]}</span><span style="font-size:11px;font-weight:700;color:var(--grn)">${x[2]}</span></div><div style="font-size:10px;color:var(--t3);margin-top:2px">${x[1]}</div></div>`).join('')}</div></div>`}

function rReg(){
return `<div class="st anim d1">âœï¸ Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ</div>
<div class="cd anim d2" style="max-width:500px">
  <div style="margin-bottom:14px;font-size:13px;color:var(--t2);line-height:1.6">
    Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ (Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ø«Ù†ÙŠÙ†) ÙˆØ³ÙŠØªÙ… Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù† Ø§Ù„Ø£Ø¯Ù…Ù†.
  </div>

  <form name="team-register" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/thank-you.html">
    <input type="hidden" name="form-name" value="team-register" />
    <input type="hidden" name="bot-field" />

    <div style="display:flex;flex-direction:column;gap:10px">
      <input class="inp" name="team_name" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚" required />
      <input class="inp" name="captain_name" placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ø¨ØªÙ†" />
      <input class="inp" name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„" />
      <div style="font-size:12px;font-weight:700;color:var(--t2);margin-top:4px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†</div>
      <input class="inp" name="player1" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„" required />
      <input class="inp" name="player2" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ" required />

      <button class="btn btn-g" type="submit" style="width:100%;justify-content:center;padding:13px;font-size:14px;margin-top:8px">
        ğŸ“¤ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨
      </button>
    </div>
  </form>
</div>`;
}
return `<div class="st anim d1">âœï¸ Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ</div><div class="cd anim d2" style="max-width:500px"><div style="margin-bottom:14px;font-size:13px;color:var(--t2);line-height:1.6">Ø³Ø¬Ù‘Ù„ ÙØ±ÙŠÙ‚Ùƒ (Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ø«Ù†ÙŠÙ†) ÙˆØ³ÙŠØªÙ… Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù† Ø§Ù„Ø£Ø¯Ù…Ù†.</div><div style="display:flex;flex-direction:column;gap:10px"><input class="inp" id="rn" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚"/><input class="inp" id="rc" placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ø¨ØªÙ†"/><input class="inp" id="rp" placeholder="Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„"/><div style="font-size:12px;font-weight:700;color:var(--t2);margin-top:4px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†</div><input class="inp" id="rpl1" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„"/><input class="inp" id="rpl2" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ"/><button class="btn btn-g" style="width:100%;justify-content:center;padding:13px;font-size:14px;margin-top:8px" onclick="subR()">ğŸ“¤ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨</button></div></div>`}
function subR(){let n=document.getElementById('rn')?.value,p1=document.getElementById('rpl1')?.value,p2=document.getElementById('rpl2')?.value;if(!n){alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚');return}if(!p1||!p2){alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†');return}S.pend.push({id:Date.now(),name:n,cap:document.getElementById('rc')?.value||'',ph:document.getElementById('rp')?.value||'',pl:[p1,p2],lg:'ğŸ†'});S.notifs.unshift({id:Date.now(),tp:'system',msg:'Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„: '+n,tm:'Ø§Ù„Ø¢Ù†',rd:0});alert('ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ âœ…');goTo('home')}

function rScM(){let m=S.em,a=gt(m.t1),b=gt(m.t2);return `<div class="modal-o" onclick="closeScoreModal()"><div class="modal anim" onclick="event.stopPropagation()"><div class="modal-t">ØªØ³Ø¬ÙŠÙ„ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</div><div style="text-align:center;margin-bottom:18px"><div style="display:flex;align-items:center;justify-content:center;gap:16px"><div><div style="font-size:32px">${a?.lg}</div><div style="font-size:12px;font-weight:700;margin-top:3px">${a?.name}</div></div><div style="font-size:16px;font-weight:800;color:var(--g)">VS</div><div><div style="font-size:32px">${b?.lg}</div><div style="font-size:12px;font-weight:700;margin-top:3px">${b?.name}</div></div></div><div style="font-size:10px;color:var(--t3);margin-top:6px">Ø§Ù„Ø¬ÙˆÙ„Ø© ${m.rn} â€¢ ${m.dt}</div></div><div style="display:flex;gap:10px;margin-bottom:14px"><div style="flex:1;text-align:center"><div style="font-size:11px;color:var(--t2);margin-bottom:4px">Ù†Ù‚Ø§Ø· ${a?.name}</div><input class="inp" id="sc1" type="number" placeholder="0" style="text-align:center;font-size:18px;font-weight:900"/></div><div style="flex:1;text-align:center"><div style="font-size:11px;color:var(--t2);margin-bottom:4px">Ù†Ù‚Ø§Ø· ${b?.name}</div><input class="inp" id="sc2" type="number" placeholder="0" style="text-align:center;font-size:18px;font-weight:900"/></div></div><div style="display:flex;gap:8px"><button class="btn btn-g" style="flex:1;justify-content:center;padding:11px" onclick="saveSc()">ğŸ’¾ Ø­ÙØ¸</button><button class="btn btn-o" style="flex:1;justify-content:center;padding:11px" onclick="closeScoreModal()">Ø¥Ù„ØºØ§Ø¡</button></div></div></div>`}
function saveSc(){let a=document.getElementById('sc1')?.value,b=document.getElementById('sc2')?.value;if(!a||!b){alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø©');return}let m=S.matches.find(x=>x.id===S.em.id);m.s1=parseInt(a);m.s2=parseInt(b);m.st='done';S.notifs.unshift({id:Date.now(),tp:'result',msg:'Ø§Ù†ØªÙ‡Øª: '+gt(m.t1)?.name+' '+a+' - '+b+' '+gt(m.t2)?.name,tm:'Ø§Ù„Ø¢Ù†',rd:0});let wasAdmin=S.fromAdmin;S.sm=false;S.em=null;S.fromAdmin=false;if(wasAdmin)S.ap=true;R()}

function rRjM(){return `<div class="modal-o" onclick="S.srj=null;R()"><div class="modal anim" onclick="event.stopPropagation()" style="max-width:380px"><div class="modal-t" style="color:var(--red)">âŒ Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶</div><textarea class="inp" id="rjr" placeholder="Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶..." rows="3"></textarea><div style="display:flex;gap:8px;margin-top:10px"><button class="btn btn-d" style="flex:1;justify-content:center;padding:11px" onclick="rejT()">ØªØ£ÙƒÙŠØ¯</button><button class="btn btn-o" style="flex:1;justify-content:center;padding:11px" onclick="S.srj=null;R()">Ø¥Ù„ØºØ§Ø¡</button></div></div></div>`}
function rejT(){let t=S.pend.find(x=>x.id===S.srj),r=document.getElementById('rjr')?.value||'';S.pend=S.pend.filter(x=>x.id!==S.srj);if(t)S.notifs.unshift({id:Date.now(),tp:'approval',msg:'Ø±ÙØ¶ '+t.name+(r?': '+r:''),tm:'Ø§Ù„Ø¢Ù†',rd:0});S.srj=null;R()}

function rDelM(){let t=gt(S.delTeam);if(!t)return '';return `<div class="modal-o" onclick="S.delTeam=null;R()"><div class="modal anim" onclick="event.stopPropagation()" style="max-width:380px;text-align:center"><div style="font-size:40px;margin-bottom:10px">âš ï¸</div><div class="modal-t" style="color:var(--red)">Ø­Ø°Ù ÙØ±ÙŠÙ‚</div><div style="font-size:14px;color:var(--t2);margin-bottom:6px">Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ÙØ±ÙŠÙ‚</div><div style="font-size:18px;font-weight:900;margin-bottom:16px">${t.lg} ${t.name}</div><div style="font-size:12px;color:var(--t3);margin-bottom:16px;padding:10px;background:var(--bg);border-radius:10px">Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„ÙØ±ÙŠÙ‚ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div><div style="display:flex;gap:8px"><button class="btn btn-d" style="flex:1;justify-content:center;padding:11px;font-size:13px" onclick="delT()">ğŸ—‘ï¸ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</button><button class="btn btn-o" style="flex:1;justify-content:center;padding:11px" onclick="S.delTeam=null;R()">Ø¥Ù„ØºØ§Ø¡</button></div></div></div>`}
function delT(){let t=gt(S.delTeam);if(!t)return;S.teams=S.teams.filter(x=>x.id!==S.delTeam);S.notifs.unshift({id:Date.now(),tp:'system',msg:'ØªÙ… Ø­Ø°Ù ÙØ±ÙŠÙ‚ '+t.name+' ğŸ—‘ï¸',tm:'Ø§Ù„Ø¢Ù†',rd:0});S.delTeam=null;genM();R()}

genM();R();
</script>
</body>
</html>
